<div *ngIf="!loadPage"class="spinner-grow" style="margin-top:20rem;margin-left: 48%;margin-right: 48%; width: 3rem; height: 3rem;" role="status">
  <span class="visually-hidden">Loading...</span>
</div>

<div *ngIf="loadPage">
<div class="card mb-3 card-profil">
    <div class="row g-0">
      <div class="col-md-4">
        <img *ngIf="myProfil.url_img" [src]="myProfil.url_img" class="rounded-circle" style="clip-path:ellipse(50% 50%); width: 15rem;height: 15rem;margin-left: auto;margin-right: auto;" alt="...">
        <img *ngIf="!myProfil.url_img" src="https://www.booksie.com/files/profiles/22/mr-anonymous.png" style="clip-path:ellipse(50% 50%); width: 15rem;height: 15rem;margin-left: auto;margin-right: auto;">
      </div>
      <div class="col-md-8">
        <div class="card-body">
          <h5 class="card-title">My profile : {{myProfil.username}} </h5>
          <p class="card-text">Email adresse : {{myProfil.email}} </p>

          <!-- Button trigger modal -->
          <button type="button" class="btn btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#exampleModal">
            change password
          </button>

          <p class="card-text" style="display:none"><small class="text-muted">Last updated 3 mins ago</small></p>
        </div>
      </div>
    </div>
  </div >


  <!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" style="margin-top: 10rem;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Change password</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form class="modal-body" #fPwd="ngForm">
          <div class="input-group input-group-sm mb-3">
              <span class="input-group-text">Old pawword : </span>
              <input type="password" class="form-control" aria-label="Sizing example input"
               aria-describedby="inputGroup-sizing-sm" ngModel #opwd="ngModel" name="opwd" required>
            </div>
            <div class="input-group input-group-sm mb-3">
              <span class="input-group-text">New password : </span>
              <input type="password" class="form-control" aria-label="Sizing example input" 
              aria-describedby="inputGroup-sizing-sm" ngModel #npwd="ngModel" name="npwd" required>
            </div>
            <div class="input-group input-group-sm mb-3">
              <span class="input-group-text">Re-type password : </span>
              <input type="password" class="form-control" aria-label="Sizing example input" 
              aria-describedby="inputGroup-sizing-sm" ngModel #rnpwd="ngModel" name="rnpwd" required>
            </div>
      
          <div class="modal-footer">
            <button  type="button" class="btn btn-secondary" data-bs-dismiss="modal" (click)="onCancel(fPwd)">Close</button>
            <button type="button" class="btn btn-primary" data-bs-dismiss="" (click)="onChange(fPwd)" [disabled]="fPwd.invalid">Save changes</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

</div>
  